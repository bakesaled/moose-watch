webpackJsonp([0],{"4mKE":function(n,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var t=e("LMZF"),o=e("1YP/"),i=e("TanH"),a=e("EP/0"),u=e("d+MU"),r=function(){function n(n,l,e,t,o,i){void 0===n&&(n=u.a.create()),void 0===l&&(l="[text]"),void 0===e&&(e="Text"),void 0===t&&(t="MwEditorTextComponent"),void 0===o&&(o="text_fields"),void 0===i&&(i="normal"),this.id=n,this.value=l,this.name=e,this.type=t,this.icon=o,this.fontStyle=i}return n.prototype.toEditorModel=function(n){return this.id=n.id,this.value=n.value,this.fontStyle=n.fontStyle,this},n.prototype.toViewerModel=function(){var n=new i.a(this.id,this.value);return n.type=a.a.name,n.fontStyle=this.fontStyle,n},n}(),s=e("s0Sm"),c=function(){function n(n,l,e,t,o,i,a,r){void 0===n&&(n=u.a.create()),void 0===l&&(l=0),void 0===t&&(t=0),void 0===o&&(o="MwEditorCellComponent"),void 0===i&&(i=null),void 0===a&&(a="cell"),void 0===r&&(r=""),this.id=n,this.width=l,this.backgroundColor=e,this.margin=t,this.type=o,this.component=i,this.name=a,this.icon=r}return n.prototype.toEditorModel=function(n){if(this.id=n.id,this.backgroundColor=n.backgroundColor,this.width=n.width,n.component)switch(n.component.type){case"MwTextComponent":this.component=(new r).toEditorModel(n.component);break;default:throw new Error("Component type '"+n.component.type+"' is not supported by cell.")}return this},n.prototype.toViewerModel=function(){var n=new o.a(this.id);return n.type=s.a.name,this.component&&(n.component=this.component.toViewerModel()),n.backgroundColor=this.backgroundColor,n.width=this.width,n},n}(),d=e("MsJN"),p=e("y5eO"),m=function(){function n(n,l,e,t,o,i){void 0===n&&(n=u.a.create()),void 0===l&&(l=[]),void 0===e&&(e=""),void 0===t&&(t="MwEditorGridComponent"),void 0===o&&(o="Grid"),void 0===i&&(i="grid_on"),this.id=n,this.cells=l,this.backgroundColor=e,this.type=t,this.name=o,this.icon=i}return n.prototype.toEditorModel=function(n){var l=this;return this.id=n.id,this.backgroundColor=n.backgroundColor,n.cells&&n.cells.length&&n.cells.forEach(function(n){var e=(new c).toEditorModel(n);l.cells.push(e)}),this},n.prototype.toViewerModel=function(){var n=new d.a(this.id,[]);return n.type=p.a.name,this.cells.forEach(function(l){n.cells.push(l.toViewerModel())}),n.backgroundColor=this.backgroundColor,n},n}(),h=e("waXe"),g=e("6imR"),_=e("v3bY"),f=function(){function n(n,l,e,t,o,i){void 0===n&&(n=u.a.create()),void 0===l&&(l="NO_NAME"),void 0===e&&(e=!0),void 0===t&&(t=null),void 0===o&&(o=h.a.name),void 0===i&&(i=""),this.id=n,this.name=l,this.isNew=e,this.component=t,this.type=o,this.icon=i}return n.prototype.toEditorModel=function(n){if(this.id=n.id,this.name=n.name,this.isNew=n.isNew,!n.isNew&&n.component)switch(n.component.type){case p.a.name:this.component=(new m).toEditorModel(n.component);break;default:throw new Error("Component type '"+n.component.type+"' is not supported.")}return this},n.prototype.toViewerModel=function(){var n=new g.a(this.id,this.name,this.isNew);return n.component=this.component?this.component.toViewerModel():void 0,n.isNew=this.isNew,n.type=_.a.name,n},n}(),b=(e("VWpA"),e("pxDN")),y=e("x4E5"),w=function(){function n(n,l){this.changeDetector=n,this.messageService=l,this.editorTextClass=!0,this.subscriptions=[],this.isSelected=!1}return Object.defineProperty(n.prototype,"selected",{get:function(){return this.isSelected},set:function(n){this.isSelected=n,this.messageService.publish(b.b,{command:y.a.select,data:this.isSelected?this.model:void 0}),this.changeDetector.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return this.textModel},set:function(n){this.textModel=n,this.model.value="[text]",this.textModel&&(this.model.fontStyle=this.textModel.fontStyle),this.changeDetector.markForCheck()},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var n=this;this.model||(this.model=new r),this.subscriptions.push(this.messageService.channel(b.c).subscribe(function(l){l.command===y.a.propertyChange&&(n.model=l.data,n.notify()),console.log("propertyChange msg",l)}))},n.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(n){return n.unsubscribe()})},n.prototype.onclick=function(){this.selected=!this.selected,this.changeDetector.markForCheck()},n.prototype.notify=function(){this.messageService.publish(b.b,{command:y.a.propertyChange})},n}(),v=e("kwyp"),x=e("WyYW"),k=e("VzHz"),C=(e("pxvt"),e("u4GT")),M=e("ebyg"),S=function(){function n(n,l,e){this.flexShim=n,this.changeDetector=l,this.messageService=e,this.editorCellClass=!0,this.subscriptions=[],this.dropSuccessEmitter=new t.n}return Object.defineProperty(n.prototype,"model",{get:function(){return this.cellModel},set:function(n){this.cellModel=n,this.model.width=50,this.fxFlex=this.model.width,this.style=this.flexShim.getStyle("fxFlex",this.model.width),this.backgroundColor=this.model.backgroundColor,console.log("cellModel",n),this.changeDetector.markForCheck()},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var n=this;this.model||(this.model=new c),this.subscriptions.push(this.messageService.channel(b.d).subscribe(function(l){return n.handleToolPanelMessage(l)}))},n.prototype.ngOnChanges=function(n){console.log("changes",n)},n.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(n){n.unsubscribe()})},n.prototype.handleDrop=function(n){switch(console.log("cell drop",n),n.dragData){case w.name:this.model.component=new r}this.messageService.publish(k.a,{command:y.a.drop,data:n})},n.prototype.handleToolPanelMessage=function(n){console.log("toolpanel msg",n,this.model.component),n.command===y.a.delete&&this.model.component&&this.model.component.id===n.data.componentId&&(this.model.component=void 0,this.factoryComponent.destroyComponent(),this.changeDetector.markForCheck(),console.log("delete cell component",this.model.component,n.data.componentId),this.messageService.publish(k.a,{command:y.a.delete}))},n}(),E=function(){function n(n,l){this.flexShim=n,this.changeDetector=l,this.editorGridClass=!0,this.fxLayout="row",this.dragEnabled=!1,this.afterViewInitEmitter=new t.n}return Object.defineProperty(n.prototype,"model",{get:function(){return this.gridModel},set:function(n){this.gridModel=n,this.style=this.flexShim.getStyle("fxLayout","row"),this.backgroundColor=this.gridModel.backgroundColor,this.changeDetector.markForCheck(),console.log("gridModel",this.gridModel)},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.model||(this.model=new m)},n.prototype.ngAfterViewInit=function(){this.afterViewInitEmitter.emit()},n.prototype.onMouseEnter=function(){this.dragEnabled=!0},n.prototype.onMouseOut=function(){this.dragEnabled=!1},n}(),D=function(){return function(){v.a.custom={MwEditorGridComponent:E,MwEditorTextComponent:w}}}(),O=e("KYtH"),I=e("Pvsr"),F=e("Abp8"),j=e("S0TE"),T=e("7mC/"),R=e("Un6q"),A=e("rci7"),V=e("4FLB"),N=e("FWX0"),P=t._6({encapsulation:2,styles:[[".mw-editor-cell{height:50px;background:none;border:1px dashed #898467;margin:10px}.mw-editor-cell .mw-editor-cell-message-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.mw-editor-cell .mw-editor-cell-message-container .mw-editor-cell-message{text-align:center}"]],data:{}});function L(n){return t._30(0,[(n()(),t._8(0,0,null,null,5,"div",[["class","mw-editor-cell-message-container"],["dnd-droppable",""]],null,[[null,"onDropSuccess"]],function(n,l,e){var t=!0;return"onDropSuccess"===l&&(t=!1!==n.component.handleDrop(e)&&t),t},null,null)),t._7(1,16384,null,0,T.f,[t.l,T.c,T.b,t.h],null,{onDropSuccess:"onDropSuccess"}),(n()(),t._28(-1,null,["\n  "])),(n()(),t._8(3,0,null,null,1,"div",[["class","mw-editor-cell-message"]],null,null,null,null,null)),(n()(),t._28(-1,null,["[drop here]"])),(n()(),t._28(-1,null,["\n"]))],null,null)}function G(n){return t._30(2,[t._26(402653184,1,{factoryComponent:0}),(n()(),t._3(16777216,null,null,1,null,L)),t._7(2,16384,null,0,R.l,[t.R,t.O],{ngIf:[0,"ngIf"]},null),(n()(),t._28(-1,null,["\n"])),(n()(),t._8(4,16777216,null,null,1,"mw-factory",[],null,null,null,A.b,A.a)),t._7(5,573440,[[1,4]],0,M.a,[V.a,t.R,t.j],{model:[0,"model"]},null),(n()(),t._28(-1,null,["\n"]))],function(n,l){var e=l.component;n(l,2,0,!e.model.component),n(l,5,0,e.model.component)},null)}var z=t._4("mw-editor-cell",S,function(n){return t._30(0,[(n()(),t._8(0,0,null,null,1,"mw-editor-cell",[],[[2,"mw-editor-cell",null],[1,"fxFlex",0],[1,"style",2],[4,"backgroundColor",null]],null,null,G,P)),t._7(1,770048,null,0,S,[x.a,t.h,N.a],null,null)],function(n,l){n(l,1,0)},function(n,l){n(l,0,0,t._20(l,1).editorCellClass,t._20(l,1).fxFlex,t._20(l,1).style,t._20(l,1).backgroundColor)})},{model:"model"},{dropSuccessEmitter:"dropSuccessEmitter"},[]),X=e("zQfh"),B=e("yxpl"),H=e("vgc3"),K=function(){function n(n,l){this.el=n,this.changeDetector=l,this.selectionTagClass=!0}return n.prototype.ngOnInit=function(){var n=this;this.parentEl=this.el.nativeElement.parentElement,this.parentEl.onmouseenter=function(l){if(!n.selected){var e=n.parentEl.getBoundingClientRect();e.width=e.width,e.height=e.height,n.borderRect=e,l.target===n.parentEl&&(n.visible=!0),n.changeDetector.markForCheck()}},this.parentEl.onmouseout=function(l){if(!n.selected){for(var e=!1,t=0;t<n.parentEl.children.length;t++)if(l.target===n.parentEl.children[t]){e=!0;break}n.visible=!(!e||l.toElement!==n.parentEl),n.changeDetector.markForCheck()}}},n}(),U=t._6({encapsulation:2,styles:[[".mw-selection-tag{display:none;position:absolute;top:-1px;left:-1px;cursor:pointer;pointer-events:none}.mw-selection-tag .mw-selection-tag-block{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:15px;min-width:30px;background:#4ab0d8;position:absolute;left:0;top:-15px;font-size:11px;padding-left:3px;padding-right:3px;pointer-events:all}.mw-selection-tag .mw-selection-tag-block mat-icon{font-size:11px;height:12px;width:12px;margin-right:3px}.mw-selection-tag .mw-selection-tag-border{border:1px solid #4ab0d8}.mw-selection-tag.mw-selection-tag--visible{display:block}"]],data:{}});function Y(n){return t._30(0,[(n()(),t._8(0,0,null,null,2,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,B.b,B.a)),t._7(1,638976,null,0,H.b,[t.l,H.d,[8,null]],null,null),(n()(),t._28(2,0,["",""]))],function(n,l){n(l,1,0)},function(n,l){n(l,2,0,l.component.icon)})}function W(n){return t._30(2,[(n()(),t._8(0,0,null,null,5,"div",[["class","mw-selection-tag-block"]],null,null,null,null,null)),(n()(),t._28(-1,null,["\n  "])),(n()(),t._3(16777216,null,null,1,null,Y)),t._7(3,16384,null,0,R.l,[t.R,t.O],{ngIf:[0,"ngIf"]},null),t._19(null,0),(n()(),t._28(-1,null,["\n"])),(n()(),t._28(-1,null,["\n"])),(n()(),t._8(7,0,null,null,0,"div",[["class","mw-selection-tag-border"]],[[4,"width","px"],[4,"height","px"]],null,null,null,null)),(n()(),t._28(-1,null,["\n"]))],function(n,l){n(l,3,0,l.component.icon)},function(n,l){var e=l.component;n(l,7,0,null==e.borderRect?null:e.borderRect.width,null==e.borderRect?null:e.borderRect.height)})}var Z=t._6({encapsulation:2,styles:[[".mw-editor-grid{display:block;border:1px solid #898467;background:none;position:relative}"]],data:{}});function J(n){return t._30(0,[(n()(),t._8(0,0,null,null,1,"mw-editor-cell",[],[[2,"mw-editor-cell",null],[1,"fxFlex",0],[1,"style",2],[4,"backgroundColor",null]],null,null,G,P)),t._7(1,770048,[[1,4]],0,S,[x.a,t.h,N.a],{model:[0,"model"]},null)],function(n,l){n(l,1,0,l.context.$implicit)},function(n,l){n(l,0,0,t._20(l,1).editorCellClass,t._20(l,1).fxFlex,t._20(l,1).style,t._20(l,1).backgroundColor)})}function $(n){return t._30(2,[t._26(671088640,1,{cellComponents:1}),(n()(),t._8(1,0,null,null,10,"div",[["dnd-draggable",""]],[[8,"style",2]],[[null,"mouseenter"],[null,"mouseout"]],function(n,l,e){var t=!0,o=n.component;return"mouseenter"===l&&(t=!1!==o.onMouseEnter()&&t),"mouseout"===l&&(t=!1!==o.onMouseOut()&&t),t},null,null)),t._7(2,737280,null,0,X.f,[X.i,t.l,t.F],{layout:[0,"layout"]},null),t._7(3,16384,null,0,T.e,[t.l,T.c,T.b,t.h],{draggable:[0,"draggable"],dragData:[1,"dragData"]},null),(n()(),t._28(-1,null,["\n  "])),(n()(),t._8(5,0,null,null,2,"mw-selection-tag",[],[[2,"mw-selection-tag",null],[2,"mw-selection-tag--visible",null]],null,null,W,U)),t._7(6,114688,null,0,K,[t.l,t.h],{icon:[0,"icon"]},null),(n()(),t._28(7,0,["",""])),(n()(),t._28(-1,null,["\n  "])),(n()(),t._3(16777216,null,null,1,null,J)),t._7(10,802816,null,0,R.k,[t.R,t.O,t.t],{ngForOf:[0,"ngForOf"]},null),(n()(),t._28(-1,null,["\n"])),(n()(),t._28(-1,null,["\n"]))],function(n,l){var e=l.component;n(l,2,0,e.fxLayout),n(l,3,0,e.dragEnabled,e.model.id),n(l,6,0,e.model.icon),n(l,10,0,e.model.cells)},function(n,l){var e=l.component;n(l,1,0,e.style),n(l,5,0,t._20(l,6).selectionTagClass,t._20(l,6).visible),n(l,7,0,e.model.name)})}var q=t._4("mw-editor-grid",E,function(n){return t._30(0,[(n()(),t._8(0,0,null,null,1,"mw-editor-grid",[],[[2,"mw-editor-grid",null],[4,"backgroundColor",null]],null,null,$,Z)),t._7(1,4308992,null,0,E,[x.a,t.h],null,null)],function(n,l){n(l,1,0)},function(n,l){n(l,0,0,t._20(l,1).editorGridClass,t._20(l,1).backgroundColor)})},{model:"model"},{afterViewInitEmitter:"afterViewInitEmitter"},[]),Q=t._6({encapsulation:2,styles:[[".mw-editor-text{position:relative;display:block;color:#fff;cursor:pointer}"]],data:{}});function nn(n){return t._30(2,[(n()(),t._8(0,0,null,null,9,"div",[["class","mw-editor-text-drag-handle"],["dnd-draggable",""]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onclick()&&t),t},null,null)),t._7(1,16384,null,0,T.e,[t.l,T.c,T.b,t.h],{dragData:[0,"dragData"]},null),(n()(),t._28(-1,null,["\n  "])),(n()(),t._8(3,0,null,null,2,"mw-selection-tag",[],[[2,"mw-selection-tag",null],[2,"mw-selection-tag--visible",null]],null,null,W,U)),t._7(4,114688,null,0,K,[t.l,t.h],{selected:[0,"selected"],icon:[1,"icon"]},null),(n()(),t._28(5,0,["",""])),(n()(),t._28(-1,null,["\n  "])),(n()(),t._8(7,0,null,null,1,"div",[["class","mw-editor-text-wrapper"]],[[4,"font-style",null]],null,null,null,null)),(n()(),t._28(8,null,["\n  ","\n  "])),(n()(),t._28(-1,null,["\n"])),(n()(),t._28(-1,null,["\n"]))],function(n,l){var e=l.component;n(l,1,0,e.model.id),n(l,4,0,e.selected,e.model.icon)},function(n,l){var e=l.component;n(l,3,0,t._20(l,4).selectionTagClass,t._20(l,4).visible),n(l,5,0,e.model.name),n(l,7,0,e.model.fontStyle),n(l,8,0,e.model.value)})}var ln=t._4("mw-editor-text",w,function(n){return t._30(0,[(n()(),t._8(0,0,null,null,1,"mw-editor-text",[],[[2,"mw-editor-text",null]],null,null,nn,Q)),t._7(1,245760,null,0,w,[t.h,N.a],null,null)],function(n,l){n(l,1,0)},function(n,l){n(l,0,0,t._20(l,1).editorTextClass)})},{model:"model"},{},[]),en=e("trMa"),tn=e("e0rv"),on=e("l6RC"),an=e("8Xfy"),un=e("V8+5"),rn=e("aayJ"),sn=e("dYU3"),cn=e("0nO6"),dn=e("k7z1"),pn=e("ka8K"),mn=e("j5BN"),hn=t._6({encapsulation:2,styles:[".mat-button-toggle-group,.mat-button-toggle-standalone{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);position:relative;display:inline-flex;flex-direction:row;border-radius:2px;cursor:pointer;white-space:nowrap;overflow:hidden}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle-disabled .mat-button-toggle-label-content{cursor:default}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay,.mat-button-toggle.cdk-program-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;cursor:pointer}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}"],data:{}});function gn(n){return t._30(2,[t._26(402653184,1,{_inputElement:0}),(n()(),t._8(1,0,null,null,3,"label",[["class","mat-button-toggle-label"]],[[1,"for",0]],null,null,null,null)),(n()(),t._8(2,0,[[1,0],["input",1]],null,0,"input",[["class","mat-button-toggle-input cdk-visually-hidden"]],[[8,"type",0],[8,"id",0],[8,"checked",0],[8,"disabled",0],[8,"name",0],[1,"aria-label",0],[1,"aria-labelledby",0]],[[null,"change"],[null,"click"]],function(n,l,e){var t=!0,o=n.component;return"change"===l&&(t=!1!==o._onInputChange(e)&&t),"click"===l&&(t=!1!==o._onInputClick(e)&&t),t},null,null)),(n()(),t._8(3,0,null,null,1,"div",[["class","mat-button-toggle-label-content"]],null,null,null,null,null)),t._19(null,0),(n()(),t._8(5,0,null,null,0,"div",[["class","mat-button-toggle-focus-overlay"]],null,null,null,null,null))],null,function(n,l){var e=l.component;n(l,1,0,e.inputId),n(l,2,0,e._type,e.inputId,e.checked,e.disabled||null,e.name,e.ariaLabel,e.ariaLabelledby)})}var _n=function(){function n(n,l){this.changeDetector=n,this.messageService=l,this.propertyEditorClass=!0,this.subscriptions=[]}return Object.defineProperty(n.prototype,"componentModel",{get:function(){return this.model},set:function(n){this.model=n,this.changeDetector.markForCheck(),console.log("property changed",n)},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){},n.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(n){return n.unsubscribe()})},n.prototype.onChange=function(n){this.componentModel.fontStyle=n.source.checked?"italic":"normal",this.notify(),this.changeDetector.markForCheck()},n.prototype.notify=function(){this.messageService.publish(b.c,{command:y.a.propertyChange,data:this.componentModel})},n}(),fn=t._6({encapsulation:2,styles:[[""]],data:{}});function bn(n){return t._30(2,[(n()(),t._8(0,0,null,null,13,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,e){var o=!0;return"submit"===l&&(o=!1!==t._20(n,2).onSubmit(e)&&o),"reset"===l&&(o=!1!==t._20(n,2).onReset()&&o),o},null,null)),t._7(1,16384,null,0,cn.h,[],null,null),t._7(2,4210688,null,0,cn.f,[[8,null],[8,null]],null,null),t._25(2048,null,cn.a,null,[cn.f]),t._7(4,16384,null,0,cn.e,[cn.a],null,null),(n()(),t._28(-1,null,["\n  "])),(n()(),t._8(6,0,null,null,6,"mat-button-toggle",[["class","mw-property-editor-italic mat-button-toggle"]],[[2,"mat-button-toggle-standalone",null],[2,"mat-button-toggle-checked",null],[2,"mat-button-toggle-disabled",null],[1,"id",0]],[[null,"change"]],function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.onChange(e)&&t),t},gn,hn)),t._7(7,245760,null,0,dn.a,[[2,dn.b],[2,dn.c],t.h,pn.b,t.l,an.f],{checked:[0,"checked"]},{change:"change"}),(n()(),t._28(-1,0,["\n    "])),(n()(),t._8(9,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,B.b,B.a)),t._7(10,638976,null,0,H.b,[t.l,H.d,[8,null]],null,null),(n()(),t._28(-1,0,["format_italic"])),(n()(),t._28(-1,0,["\n  "])),(n()(),t._28(-1,null,["\n"])),(n()(),t._28(-1,null,["\n"]))],function(n,l){var e=l.component;n(l,7,0,"italic"===(null==e.componentModel?null:e.componentModel.fontStyle)),n(l,10,0)},function(n,l){n(l,0,0,t._20(l,4).ngClassUntouched,t._20(l,4).ngClassTouched,t._20(l,4).ngClassPristine,t._20(l,4).ngClassDirty,t._20(l,4).ngClassValid,t._20(l,4).ngClassInvalid,t._20(l,4).ngClassPending),n(l,6,0,!t._20(l,7).buttonToggleGroup&&!t._20(l,7).buttonToggleGroupMultiple,t._20(l,7).checked,t._20(l,7).disabled,t._20(l,7).id)})}var yn=function(){function n(n){this.messageService=n,this.toolPanelClass=!0,this.subscriptions=[],this.tools=[new m,new r]}return n.prototype.ngOnInit=function(){var n=this;this.subscriptions.push(this.messageService.channel(b.b).subscribe(function(l){return n.handleEditorComponentMessage(l)}))},n.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(n){return n.unsubscribe()})},n.prototype.handleDropSuccess=function(n){console.log("deleted",n),this.messageService.publish(b.d,{command:y.a.delete,data:{componentId:n.dragData}})},n.prototype.handleEditorComponentMessage=function(n){switch(n.command){case y.a.select:this.selectedComponentModel=n.data}},n}(),wn=t._6({encapsulation:2,styles:[[".mw-tool-panel .mat-icon{vertical-align:middle;margin-right:5px;color:#a9bbbb}.mw-tool-panel .mat-tool-panel-container{height:100%}.mw-tool-panel .mat-tool-panel-trash{font-size:128px;width:128px;height:128px}.mw-tool-panel h3{border:none;font-size:10px;letter-spacing:1px;line-height:24px;text-transform:uppercase;font-weight:400;margin:0;padding:0 16px;background:rgba(0,0,0,.32);color:hsla(0,0%,100%,.87)}.mw-tool-panel .mat-list-item{color:#a9bbbb}"]],data:{}});function vn(n){return t._30(0,[(n()(),t._8(0,0,null,null,12,"mat-list-item",[["class","mat-list-item"]],null,[[null,"focus"],[null,"blur"]],function(n,l,e){var o=!0;return"focus"===l&&(o=!1!==t._20(n,1)._handleFocus()&&o),"blur"===l&&(o=!1!==t._20(n,1)._handleBlur()&&o),o},rn.d,rn.b)),t._7(1,1097728,null,2,sn.b,[t.l,[2,sn.e]],null,null),t._26(603979776,1,{_lines:1}),t._26(335544320,2,{_hasAvatar:0}),(n()(),t._28(-1,2,["\n      "])),(n()(),t._8(5,0,null,2,6,"div",[["dnd-draggable",""]],null,null,null,null,null)),t._7(6,16384,null,0,T.e,[t.l,T.c,T.b,t.h],{dragData:[0,"dragData"]},null),(n()(),t._28(-1,null,["\n        "])),(n()(),t._8(8,0,null,null,2,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,B.b,B.a)),t._7(9,638976,null,0,H.b,[t.l,H.d,[8,null]],null,null),(n()(),t._28(10,0,["",""])),(n()(),t._28(11,null,["\n        ","\n      "])),(n()(),t._28(-1,2,["\n    "]))],function(n,l){n(l,6,0,l.context.$implicit.type),n(l,9,0)},function(n,l){n(l,10,0,l.context.$implicit.icon),n(l,11,0,l.context.$implicit.name)})}function xn(n){return t._30(0,[(n()(),t._8(0,0,null,null,1,"mw-property-editor",[],[[2,"mw-property-editor",null]],null,null,bn,fn)),t._7(1,245760,null,0,_n,[t.h,N.a],{componentModel:[0,"componentModel"]},null)],function(n,l){n(l,1,0,l.component.selectedComponentModel)},function(n,l){n(l,0,0,t._20(l,1).propertyEditorClass)})}function kn(n){return t._30(0,[(n()(),t._8(0,0,null,null,27,"div",[["class","mat-tool-panel-container"],["fxLayout","column"],["fxLayoutAlign","space-between stretch"]],null,null,null,null,null)),t._7(1,737280,null,0,X.f,[X.i,t.l,t.F],{layout:[0,"layout"]},null),t._7(2,737280,null,0,X.e,[X.i,t.l,t.F,[2,X.f]],{align:[0,"align"]},null),(n()(),t._28(-1,null,["\n  "])),(n()(),t._8(4,0,null,null,14,"mat-list",[["class","mat-list"]],null,null,null,rn.e,rn.a)),t._7(5,49152,null,0,sn.a,[],null,null),(n()(),t._28(-1,0,["\n    "])),(n()(),t._8(7,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),t._28(-1,null,["\n      Components\n    "])),(n()(),t._28(-1,0,["\n    "])),(n()(),t._3(16777216,null,0,1,null,vn)),t._7(11,802816,null,0,R.k,[t.R,t.O,t.t],{ngForOf:[0,"ngForOf"]},null),(n()(),t._28(-1,0,["\n    "])),(n()(),t._8(13,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),t._28(-1,null,["\n      Properties\n    "])),(n()(),t._28(-1,0,["\n    "])),(n()(),t._3(16777216,null,0,1,null,xn)),t._7(17,16384,null,0,R.l,[t.R,t.O],{ngIf:[0,"ngIf"]},null),(n()(),t._28(-1,0,["\n  "])),(n()(),t._28(-1,null,["\n  "])),(n()(),t._8(20,0,null,null,6,"div",[["dnd-droppable",""]],null,[[null,"onDropSuccess"]],function(n,l,e){var t=!0;return"onDropSuccess"===l&&(t=!1!==n.component.handleDropSuccess(e)&&t),t},null,null)),t._7(21,16384,null,0,T.f,[t.l,T.c,T.b,t.h],null,{onDropSuccess:"onDropSuccess"}),(n()(),t._28(-1,null,["\n    "])),(n()(),t._8(23,0,null,null,2,"mat-icon",[["class","mat-tool-panel-trash mat-icon"],["role","img"]],null,null,null,B.b,B.a)),t._7(24,638976,null,0,H.b,[t.l,H.d,[8,null]],null,null),(n()(),t._28(-1,0,["delete"])),(n()(),t._28(-1,null,["\n  "])),(n()(),t._28(-1,null,["\n"])),(n()(),t._28(-1,null,["\n"]))],function(n,l){var e=l.component;n(l,1,0,"column"),n(l,2,0,"space-between stretch"),n(l,11,0,e.tools),n(l,17,0,e.selectedComponentModel),n(l,24,0)},null)}var Cn=e("UHIZ"),Mn=e("AP4T"),Sn=e("5jKg");Mn.a.prototype.switchMap=function(n,l){return Object(Sn.a)(n,l)(this)},e("HECM");var En=e("3iOE"),Dn=e("1j/l"),On=e("Oryw"),In=e("ZO8H");Mn.a.combineLatest=function(){for(var n=[],l=0;l<arguments.length;l++)n[l-0]=arguments[l];var e=null,t=null;return Object(En.a)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&Object(Dn.a)(n[0])&&(n=n[0]),new On.a(n,t).lift(new In.a(e))};var Fn=e("0J28"),jn=function(){function n(n,l,e,t,o,i,a){this.factoryResolver=n,this.messageService=l,this.saveService=e,this.route=t,this.layoutService=o,this.layoutListService=i,this.changeDetector=a,this.workAreaClass=!0,this.subscriptions=[],this.allowedDropType=E.name}return n.prototype.ngOnInit=function(){var n=this;this.subscriptions.push(this.route.data.subscribe(function(l){n.factoryComponent&&n.factoryComponent.destroyComponent();var e=(new f).toEditorModel(l.layout);n.layoutModel=Object.assign(e,{}),n.changeDetector.markForCheck()})),this.subscriptions.push(this.messageService.channel(b.d).subscribe(function(l){return n.handleToolPanelMessage(l)})),this.subscriptions.push(this.messageService.channel(b.a).subscribe(function(l){l.command!==y.a.drop&&l.command!==y.a.delete||n.save(),console.log("cell msg",l)})),this.subscriptions.push(this.messageService.channel(b.b).subscribe(function(l){l.command===y.a.propertyChange&&n.save(),console.log("component msg",l)})),this.subscriptions.push(this.messageService.channel(b.e).subscribe(function(l){return n.deleteLayout(l)}))},n.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(n){n.unsubscribe()})},n.prototype.handleDrop=function(n){if(console.log("drop",n),n.dragData===E.name){var l=new m;l.cells=[new c(u.a.create(),50),new c(u.a.create(),50)],this.layoutModel.component=l,this.changeDetector.markForCheck(),this.save()}},n.prototype.handleAllowDrop=function(n){return function(l){return l!==n&&console.log("drop not allowed",l),l===n}},n.prototype.save=function(){console.log("saving",this.layoutModel);var n=!1;this.layoutModel.isNew&&(n=!0,this.layoutModel.name=this.layoutListService.getUniqueLayoutName(C.a.newLayoutBaseName)),this.layoutModel.isNew=!1,this.saveService.save(this.layoutModel.toViewerModel()),this.messageService.publish(b.f,{command:y.a.edit,data:n?{id:this.layoutModel.id,name:this.layoutModel.name}:void 0})},n.prototype.deleteLayout=function(n){n.command===y.a.delete&&(this.saveService.delete(this.layoutModel.id),this.messageService.publish(b.f,{command:y.a.delete}))},n.prototype.handleToolPanelMessage=function(n){console.log("toolpanel msg",n,this.layoutModel.component),n.command===y.a.delete&&this.layoutModel.component&&this.layoutModel.component.id===n.data.componentId&&(this.layoutModel.component=void 0,this.factoryComponent&&this.factoryComponent.destroyComponent(),this.changeDetector.markForCheck(),console.log("delete layout component",this.layoutModel.component,n.data.componentId),this.save())},n}(),Tn=e("cOVX"),Rn=e("WHuQ"),An=t._6({encapsulation:2,styles:[[".mw-work-area{display:block;border:1px solid #5c5c5c;margin:20px;height:calc(100% - 42px)}.mw-work-area .mw-work-area-target{display:block;height:100%;width:100%;background-color:#1e1e1e;color:#e6e6e6}.mw-work-area .mw-work-area-message-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;height:calc(100% - 20px)}.mw-work-area .mw-work-area-message-container .mw-work-area-message{text-align:center;color:#898467}"]],data:{}});function Vn(n){return t._30(0,[(n()(),t._8(0,0,null,null,5,"div",[["class","mw-work-area-message-container"],["dnd-droppable",""]],null,[[null,"onDropSuccess"]],function(n,l,e){var t=!0;return"onDropSuccess"===l&&(t=!1!==n.component.handleDrop(e)&&t),t},null,null)),t._7(1,16384,null,0,T.f,[t.l,T.c,T.b,t.h],{allowdrop:[0,"allowdrop"]},{onDropSuccess:"onDropSuccess"}),(n()(),t._28(-1,null,["\n    "])),(n()(),t._8(3,0,null,null,1,"div",[["class","mw-work-area-message"]],null,null,null,null,null)),(n()(),t._28(-1,null,["Drag a Grid here!"])),(n()(),t._28(-1,null,["\n  "]))],function(n,l){var e=l.component;n(l,1,0,e.handleAllowDrop(e.allowedDropType))},null)}function Nn(n){return t._30(0,[(n()(),t._8(0,16777216,null,null,1,"mw-factory",[],null,null,null,A.b,A.a)),t._7(1,573440,[[3,4]],0,M.a,[V.a,t.R,t.j],{model:[0,"model"]},null),(n()(),t._3(0,null,null,0))],function(n,l){n(l,1,0,l.component.layoutModel.component)},null)}function Pn(n){return t._30(2,[t._26(402653184,1,{viewContainerRef:0}),t._26(671088640,2,{cellComponents:1}),t._26(671088640,3,{factoryComponent:0}),(n()(),t._8(3,0,null,null,8,"div",[["class","mw-work-area-target"]],null,null,null,null,null)),(n()(),t._28(-1,null,["\n  "])),(n()(),t._3(16777216,null,null,1,null,Vn)),t._7(6,16384,null,0,R.l,[t.R,t.O],{ngIf:[0,"ngIf"]},null),(n()(),t._28(-1,null,["\n  "])),(n()(),t._28(-1,null,["\n  "])),(n()(),t._3(16777216,null,null,1,null,Nn)),t._7(10,16384,null,0,R.l,[t.R,t.O],{ngIf:[0,"ngIf"]},null),(n()(),t._28(-1,null,["\n"])),(n()(),t._28(-1,null,["\n"]))],function(n,l){var e=l.component;n(l,6,0,!e.layoutModel||!e.layoutModel.component),n(l,10,0,e.layoutModel.component)},null)}var Ln=function(){function n(){this.layoutEditorClass=!0}return n.prototype.ngOnInit=function(){},n}(),Gn=t._6({encapsulation:2,styles:[[".mw-layout-editor mat-sidenav-container{margin:0;width:100%;height:100%;background:#1e1e1e}.mw-layout-editor mat-sidenav{width:240px;background:#3c3f41}"]],data:{}});function zn(n){return t._30(0,[(n()(),t._8(0,0,null,null,16,"mat-sidenav-container",[["class","mat-drawer-container mat-sidenav-container"]],null,null,null,en.d,en.b)),t._7(1,1490944,null,2,tn.f,[[2,on.c],t.l,t.A,t.h,tn.a],null,null),t._26(603979776,1,{_drawers:1}),t._26(335544320,2,{_content:0}),(n()(),t._28(-1,2,["\n  "])),(n()(),t._8(5,0,null,0,3,"mat-sidenav",[["class","mat-drawer mat-sidenav"],["mode","side"],["opened","true"],["position","end"],["tabIndex","-1"]],[[40,"@transform",0],[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null],[2,"mat-sidenav-fixed",null],[4,"top","px"],[4,"bottom","px"]],[["component","@transform.start"],["component","@transform.done"],[null,"keydown"]],function(n,l,e){var o=!0;return"component:@transform.start"===l&&(o=!1!==t._20(n,6)._onAnimationStart(e)&&o),"component:@transform.done"===l&&(o=!1!==t._20(n,6)._onAnimationEnd(e)&&o),"keydown"===l&&(o=!1!==t._20(n,6).handleKeydown(e)&&o),o},en.f,en.a)),t._7(6,3325952,[[1,4]],0,tn.e,[t.l,an.g,an.f,un.a,[2,R.d]],{position:[0,"position"],mode:[1,"mode"],opened:[2,"opened"]},null),(n()(),t._8(7,0,null,0,1,"mw-tool-panel",[],[[2,"mw-tool-panel",null]],null,null,kn,wn)),t._7(8,245760,null,0,yn,[N.a],null,null),(n()(),t._28(-1,2,["\n  "])),(n()(),t._8(10,0,null,1,5,"mat-sidenav-content",[["class","mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,en.e,en.c)),t._7(11,1097728,[[2,4]],0,tn.g,[t.h,tn.f],null,null),(n()(),t._28(-1,0,["\n    "])),(n()(),t._8(13,0,null,0,1,"mw-work-area",[],[[2,"mw-work-area",null]],null,null,Pn,An)),t._7(14,245760,null,0,jn,[t.j,N.a,Tn.a,Cn.a,Fn.a,Rn.a,t.h],null,null),(n()(),t._28(-1,0,["\n  "])),(n()(),t._28(-1,2,["\n"])),(n()(),t._28(-1,null,["\n"]))],function(n,l){n(l,1,0),n(l,6,0,"end","side","true"),n(l,8,0),n(l,14,0)},function(n,l){n(l,5,0,t._20(l,6)._animationState,null,"end"===t._20(l,6).position,"over"===t._20(l,6).mode,"push"===t._20(l,6).mode,"side"===t._20(l,6).mode,t._20(l,6).fixedInViewport,t._20(l,6).fixedInViewport?t._20(l,6).fixedTopGap:null,t._20(l,6).fixedInViewport?t._20(l,6).fixedBottomGap:null),n(l,7,0,t._20(l,8).toolPanelClass),n(l,10,0,t._20(l,11)._margins.left,t._20(l,11)._margins.right),n(l,13,0,t._20(l,14).workAreaClass)})}var Xn=t._4("mw-layout-editor",Ln,function(n){return t._30(0,[(n()(),t._8(0,0,null,null,1,"mw-layout-editor",[],[[2,"mw-layout-editor",null]],null,null,zn,Gn)),t._7(1,114688,null,0,Ln,[],null,null)],function(n,l){n(l,1,0)},function(n,l){n(l,0,0,t._20(l,1).layoutEditorClass)})},{},{},[]),Bn=e("9iV4"),Hn=e("Yq5T"),Kn=e("RyBE"),Un=e("4jwp"),Yn=e("OFGE"),Wn=e("ZgUn"),Zn=e("rN87"),Jn=e("S53G"),$n=e("CZgk"),qn=e("ki1d"),Qn=e("YXpL"),nl=e("ghl+"),ll=e("T2Au"),el=function(){},tl=function(){},ol=function(){},il=function(){},al=function(){},ul=function(){},rl=function(){},sl=function(){};e.d(l,"LayoutEditorModuleNgFactory",function(){return cl});var cl=t._5(D,[],function(n){return t._16([t._17(512,t.j,t._1,[[8,[O.a,I.a,F.a,j.a,q,z,ln,Xn]],[3,t.j],t.y]),t._17(4608,R.n,R.m,[t.v,[2,R.s]]),t._17(5120,X.a,X.c,[]),t._17(4608,X.b,X.b,[X.a]),t._17(4608,X.h,X.h,[t.A,R.d]),t._17(5120,X.i,X.g,[[3,X.i],X.b,X.h]),t._17(5120,X.l,X.k,[[3,X.l],X.h,X.b]),t._17(4608,Bn.i,Bn.n,[R.d,t.D,Bn.l]),t._17(4608,Bn.o,Bn.o,[Bn.i,Bn.m]),t._17(5120,Bn.a,function(n){return[n]},[Bn.o]),t._17(4608,Bn.k,Bn.k,[]),t._17(6144,Bn.j,null,[Bn.k]),t._17(4608,Bn.h,Bn.h,[Bn.j]),t._17(6144,Bn.b,null,[Bn.h]),t._17(5120,Bn.g,Bn.p,[Bn.b,[2,Bn.a]]),t._17(4608,Bn.c,Bn.c,[Bn.g]),t._17(4608,Hn.a,Hn.a,[]),t._17(4608,Fn.a,Fn.a,[Bn.c,Hn.a]),t._17(4608,V.a,V.a,[]),t._17(4608,x.a,x.a,[Kn.c]),t._17(6144,on.b,null,[R.d]),t._17(4608,on.c,on.c,[[2,on.b]]),t._17(4608,un.a,un.a,[]),t._17(4608,an.h,an.h,[un.a]),t._17(4608,an.g,an.g,[an.h,t.A,R.d]),t._17(136192,an.c,an.b,[[3,an.c],R.d]),t._17(5120,an.k,an.j,[[3,an.k],[2,an.i],R.d]),t._17(5120,an.f,an.d,[[3,an.f],t.A,un.a]),t._17(5120,Un.d,Un.b,[[3,Un.d],t.A,un.a]),t._17(5120,Un.g,Un.f,[[3,Un.g],un.a,t.A]),t._17(4608,Yn.e,Yn.e,[Un.d,Un.g,t.A]),t._17(5120,Yn.b,Yn.f,[[3,Yn.b],R.d]),t._17(4608,Yn.j,Yn.j,[Un.g,R.d]),t._17(5120,Yn.c,Yn.i,[[3,Yn.c],R.d]),t._17(4608,Yn.a,Yn.a,[Yn.e,Yn.b,t.j,Yn.j,Yn.c,t.g,t.r,t.A,R.d]),t._17(5120,Yn.g,Yn.h,[Yn.a]),t._17(5120,H.d,H.a,[[3,H.d],[2,Bn.c],Kn.c,[2,R.d]]),t._17(5120,pn.b,pn.c,[[3,pn.b]]),t._17(4608,cn.i,cn.i,[]),t._17(4608,T.b,T.b,[]),t._17(5120,T.c,T.g,[]),t._17(5120,T.d,T.h,[T.b]),t._17(512,R.c,R.c,[]),t._17(512,X.j,X.j,[]),t._17(512,X.d,X.d,[]),t._17(512,Wn.a,Wn.a,[]),t._17(512,Bn.e,Bn.e,[]),t._17(512,Bn.d,Bn.d,[]),t._17(512,Zn.a,Zn.a,[]),t._17(512,Jn.a,Jn.a,[]),t._17(512,on.a,on.a,[]),t._17(256,mn.b,!0,[]),t._17(512,mn.h,mn.h,[[2,mn.b]]),t._17(512,un.b,un.b,[]),t._17(512,an.a,an.a,[]),t._17(512,$n.b,$n.b,[]),t._17(512,Un.c,Un.c,[]),t._17(512,Yn.d,Yn.d,[]),t._17(512,tn.h,tn.h,[]),t._17(512,mn.i,mn.i,[]),t._17(512,mn.r,mn.r,[]),t._17(512,mn.p,mn.p,[]),t._17(512,qn.b,qn.b,[]),t._17(512,sn.c,sn.c,[]),t._17(512,H.c,H.c,[]),t._17(512,Qn.b,Qn.b,[]),t._17(512,nl.d,nl.d,[]),t._17(512,dn.d,dn.d,[]),t._17(512,cn.g,cn.g,[]),t._17(512,cn.c,cn.c,[]),t._17(512,T.a,T.a,[]),t._17(512,ll.a,ll.a,[]),t._17(512,el,el,[]),t._17(512,tl,tl,[]),t._17(512,ol,ol,[]),t._17(512,il,il,[]),t._17(512,al,al,[]),t._17(512,ul,ul,[]),t._17(512,rl,rl,[]),t._17(512,Cn.n,Cn.n,[[2,Cn.s],[2,Cn.k]]),t._17(512,sl,sl,[]),t._17(512,D,D,[]),t._17(256,Bn.l,"XSRF-TOKEN",[]),t._17(256,Bn.m,"X-XSRF-TOKEN",[]),t._17(256,tn.a,!1,[]),t._17(1024,Cn.i,function(){return[[{path:"",component:Ln},{path:"**",redirectTo:"",pathMatch:"full"}]]},[])])})}});