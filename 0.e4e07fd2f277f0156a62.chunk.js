webpackJsonp([0],{"4mKE":function(n,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var t=e("LMZF"),o=e("1YP/"),i=e("TanH"),a=e("EP/0"),u=e("d+MU"),r=function(){function n(n,l,e,t,o){void 0===n&&(n=u.a.create()),void 0===l&&(l="[text]"),void 0===e&&(e="Text"),void 0===t&&(t="MwEditorTextComponent"),void 0===o&&(o="text_fields"),this.id=n,this.value=l,this.name=e,this.type=t,this.icon=o}return n.prototype.toEditorModel=function(n){return this.id=n.id,this.value=n.value,this},n.prototype.toViewerModel=function(){var n=new i.a(this.id,this.value);return n.type=a.a.name,n},n}(),c=e("s0Sm"),s=function(){function n(n,l,e,t,o,i,a,r){void 0===n&&(n=u.a.create()),void 0===l&&(l=0),void 0===t&&(t=0),void 0===o&&(o="MwEditorCellComponent"),void 0===i&&(i=null),void 0===a&&(a="cell"),void 0===r&&(r=""),this.id=n,this.width=l,this.backgroundColor=e,this.margin=t,this.type=o,this.component=i,this.name=a,this.icon=r}return n.prototype.toEditorModel=function(n){if(this.id=n.id,this.backgroundColor=n.backgroundColor,this.width=n.width,n.component)switch(n.component.type){case"MwTextComponent":this.component=(new r).toEditorModel(n.component);break;default:throw new Error("Component type '"+n.component.type+"' is not supported by cell.")}return this},n.prototype.toViewerModel=function(){var n=new o.a(this.id);return n.type=c.a.name,this.component&&(n.component=this.component.toViewerModel()),n.backgroundColor=this.backgroundColor,n.width=this.width,n},n}(),d=e("MsJN"),m=e("y5eO"),p=function(){function n(n,l,e,t,o,i){void 0===n&&(n=u.a.create()),void 0===l&&(l=[]),void 0===e&&(e=""),void 0===t&&(t="MwEditorGridComponent"),void 0===o&&(o="Grid"),void 0===i&&(i="grid_on"),this.id=n,this.cells=l,this.backgroundColor=e,this.type=t,this.name=o,this.icon=i}return n.prototype.toEditorModel=function(n){var l=this;return this.id=n.id,this.backgroundColor=n.backgroundColor,n.cells&&n.cells.length&&n.cells.forEach(function(n){var e=(new s).toEditorModel(n);l.cells.push(e)}),this},n.prototype.toViewerModel=function(){var n=new d.a(this.id,[]);return n.type=m.a.name,this.cells.forEach(function(l){n.cells.push(l.toViewerModel())}),n.backgroundColor=this.backgroundColor,n},n}(),h=e("waXe"),_=e("6imR"),f=e("v3bY"),g=function(){function n(n,l,e,t,o,i){void 0===n&&(n=u.a.create()),void 0===l&&(l="NO_NAME"),void 0===e&&(e=!0),void 0===t&&(t=null),void 0===o&&(o=h.a.name),void 0===i&&(i=""),this.id=n,this.name=l,this.isNew=e,this.component=t,this.type=o,this.icon=i}return n.prototype.toEditorModel=function(n){if(this.id=n.id,this.name=n.name,this.isNew=n.isNew,!n.isNew&&n.component)switch(n.component.type){case m.a.name:this.component=(new p).toEditorModel(n.component);break;default:throw new Error("Component type '"+n.component.type+"' is not supported.")}return this},n.prototype.toViewerModel=function(){var n=new _.a(this.id,this.name,this.isNew);return n.component=this.component?this.component.toViewerModel():void 0,n.isNew=this.isNew,n.type=f.a.name,n},n}(),b=function(){function n(n){this.changeDetector=n,this.editorTextClass=!0,this.selected=!1}return Object.defineProperty(n.prototype,"model",{get:function(){return this.textModel},set:function(n){this.textModel=n,this.model.value="[text]",console.log("newValue",n),this.changeDetector.markForCheck()},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.model||(this.model=new r)},n.prototype.onclick=function(){this.selected=!this.selected,this.changeDetector.markForCheck()},n}(),w=e("kwyp"),y=e("WyYW"),v=e("x4E5"),x=(e("VWpA"),function(){}),k=(e("pxvt"),function(){}),C=e("u4GT"),M=e("ebyg"),E=function(){function n(n,l,e){this.flexShim=n,this.changeDetector=l,this.messageService=e,this.editorCellClass=!0,this.subscriptions=[],this.dropSuccessEmitter=new t.n}return Object.defineProperty(n.prototype,"model",{get:function(){return this.cellModel},set:function(n){this.cellModel=n,this.model.width=50,this.fxFlex=this.model.width,this.style=this.flexShim.getStyle("fxFlex",this.model.width),this.backgroundColor=this.model.backgroundColor,console.log("cellModel",n),this.changeDetector.markForCheck()},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var n=this;this.model||(this.model=new s),this.subscriptions.push(this.messageService.channel(k).subscribe(function(l){return n.handleToolPanelMessage(l)}))},n.prototype.ngOnChanges=function(n){console.log("changes",n)},n.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(n){n.unsubscribe()})},n.prototype.handleDrop=function(n){switch(console.log("cell drop",n),n.dragData){case b.name:this.model.component=new r}this.messageService.publish(x,{command:v.a.drop,data:n})},n.prototype.handleToolPanelMessage=function(n){console.log("toolpanel msg",n,this.model.component),n.command===v.a.delete&&this.model.component&&this.model.component.id===n.data.componentId&&(this.model.component=void 0,this.factoryComponent.destroyComponent(),this.changeDetector.markForCheck(),console.log("delete cell component",this.model.component,n.data.componentId),this.messageService.publish(x,{command:v.a.delete}))},n}(),D=function(){function n(n,l){this.flexShim=n,this.changeDetector=l,this.editorGridClass=!0,this.fxLayout="row",this.dragEnabled=!1,this.afterViewInitEmitter=new t.n}return Object.defineProperty(n.prototype,"model",{get:function(){return this.gridModel},set:function(n){this.gridModel=n,this.style=this.flexShim.getStyle("fxLayout","row"),this.backgroundColor=this.gridModel.backgroundColor,this.changeDetector.markForCheck(),console.log("gridModel",this.gridModel)},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.model||(this.model=new p)},n.prototype.ngAfterViewInit=function(){this.afterViewInitEmitter.emit()},n.prototype.onMouseEnter=function(){this.dragEnabled=!0},n.prototype.onMouseOut=function(){this.dragEnabled=!1},n}(),S=function(){return function(){w.a.custom={MwEditorGridComponent:D,MwEditorTextComponent:b}}}(),O=e("KYtH"),F=e("Pvsr"),I=e("Abp8"),j=e("S0TE"),T=e("7mC/"),A=e("Un6q"),R=e("rci7"),V=e("4FLB"),N=e("FWX0"),L=t._6({encapsulation:2,styles:[[".mw-editor-cell{height:50px;background:none;border:1px dashed #898467;margin:10px}.mw-editor-cell .mw-editor-cell-message-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.mw-editor-cell .mw-editor-cell-message-container .mw-editor-cell-message{text-align:center}"]],data:{}});function P(n){return t._30(0,[(n()(),t._8(0,0,null,null,5,"div",[["class","mw-editor-cell-message-container"],["dnd-droppable",""]],null,[[null,"onDropSuccess"]],function(n,l,e){var t=!0;return"onDropSuccess"===l&&(t=!1!==n.component.handleDrop(e)&&t),t},null,null)),t._7(1,16384,null,0,T.f,[t.l,T.c,T.b,t.h],null,{onDropSuccess:"onDropSuccess"}),(n()(),t._28(-1,null,["\n  "])),(n()(),t._8(3,0,null,null,1,"div",[["class","mw-editor-cell-message"]],null,null,null,null,null)),(n()(),t._28(-1,null,["[drop here]"])),(n()(),t._28(-1,null,["\n"]))],null,null)}function G(n){return t._30(2,[t._26(402653184,1,{factoryComponent:0}),(n()(),t._3(16777216,null,null,1,null,P)),t._7(2,16384,null,0,A.l,[t.R,t.O],{ngIf:[0,"ngIf"]},null),(n()(),t._28(-1,null,["\n"])),(n()(),t._8(4,16777216,null,null,1,"mw-factory",[],null,null,null,R.b,R.a)),t._7(5,573440,[[1,4]],0,M.a,[V.a,t.R,t.j],{model:[0,"model"]},null),(n()(),t._28(-1,null,["\n"]))],function(n,l){var e=l.component;n(l,2,0,!e.model.component),n(l,5,0,e.model.component)},null)}var X=t._4("mw-editor-cell",E,function(n){return t._30(0,[(n()(),t._8(0,0,null,null,1,"mw-editor-cell",[],[[2,"mw-editor-cell",null],[1,"fxFlex",0],[1,"style",2],[4,"backgroundColor",null]],null,null,G,L)),t._7(1,770048,null,0,E,[y.a,t.h,N.a],null,null)],function(n,l){n(l,1,0)},function(n,l){n(l,0,0,t._20(l,1).editorCellClass,t._20(l,1).fxFlex,t._20(l,1).style,t._20(l,1).backgroundColor)})},{model:"model"},{dropSuccessEmitter:"dropSuccessEmitter"},[]),Y=e("zQfh"),B=e("yxpl"),H=e("vgc3"),K=function(){function n(n,l){this.el=n,this.changeDetector=l,this.selectionTagClass=!0}return n.prototype.ngOnInit=function(){var n=this;this.parentEl=this.el.nativeElement.parentElement,this.parentEl.onmouseenter=function(l){if(!n.selected){var e=n.parentEl.getBoundingClientRect();e.width=e.width,e.height=e.height,n.borderRect=e,l.target===n.parentEl&&(n.visible=!0),n.changeDetector.markForCheck()}},this.parentEl.onmouseout=function(l){if(!n.selected){for(var e=!1,t=0;t<n.parentEl.children.length;t++)if(l.target===n.parentEl.children[t]){e=!0;break}n.visible=!(!e||l.toElement!==n.parentEl),n.changeDetector.markForCheck()}}},n}(),U=t._6({encapsulation:2,styles:[[".mw-selection-tag{display:none;position:absolute;top:-1px;left:-1px;cursor:pointer;pointer-events:none}.mw-selection-tag .mw-selection-tag-block{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:15px;min-width:30px;background:#4ab0d8;position:absolute;left:0;top:-15px;font-size:11px;padding-left:3px;padding-right:3px;pointer-events:all}.mw-selection-tag .mw-selection-tag-block mat-icon{font-size:11px;height:12px;width:12px;margin-right:3px}.mw-selection-tag .mw-selection-tag-border{border:1px solid #4ab0d8}.mw-selection-tag.mw-selection-tag--visible{display:block}"]],data:{}});function z(n){return t._30(0,[(n()(),t._8(0,0,null,null,2,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,B.b,B.a)),t._7(1,638976,null,0,H.b,[t.l,H.d,[8,null]],null,null),(n()(),t._28(2,0,["",""]))],function(n,l){n(l,1,0)},function(n,l){n(l,2,0,l.component.icon)})}function W(n){return t._30(2,[(n()(),t._8(0,0,null,null,5,"div",[["class","mw-selection-tag-block"]],null,null,null,null,null)),(n()(),t._28(-1,null,["\n  "])),(n()(),t._3(16777216,null,null,1,null,z)),t._7(3,16384,null,0,A.l,[t.R,t.O],{ngIf:[0,"ngIf"]},null),t._19(null,0),(n()(),t._28(-1,null,["\n"])),(n()(),t._28(-1,null,["\n"])),(n()(),t._8(7,0,null,null,0,"div",[["class","mw-selection-tag-border"]],[[4,"width","px"],[4,"height","px"]],null,null,null,null)),(n()(),t._28(-1,null,["\n"]))],function(n,l){n(l,3,0,l.component.icon)},function(n,l){var e=l.component;n(l,7,0,null==e.borderRect?null:e.borderRect.width,null==e.borderRect?null:e.borderRect.height)})}var Z=t._6({encapsulation:2,styles:[[".mw-editor-grid{display:block;border:1px solid #898467;background:none;position:relative}"]],data:{}});function J(n){return t._30(0,[(n()(),t._8(0,0,null,null,1,"mw-editor-cell",[],[[2,"mw-editor-cell",null],[1,"fxFlex",0],[1,"style",2],[4,"backgroundColor",null]],null,null,G,L)),t._7(1,770048,[[1,4]],0,E,[y.a,t.h,N.a],{model:[0,"model"]},null)],function(n,l){n(l,1,0,l.context.$implicit)},function(n,l){n(l,0,0,t._20(l,1).editorCellClass,t._20(l,1).fxFlex,t._20(l,1).style,t._20(l,1).backgroundColor)})}function $(n){return t._30(2,[t._26(671088640,1,{cellComponents:1}),(n()(),t._8(1,0,null,null,10,"div",[["dnd-draggable",""]],[[8,"style",2]],[[null,"mouseenter"],[null,"mouseout"]],function(n,l,e){var t=!0,o=n.component;return"mouseenter"===l&&(t=!1!==o.onMouseEnter()&&t),"mouseout"===l&&(t=!1!==o.onMouseOut()&&t),t},null,null)),t._7(2,737280,null,0,Y.f,[Y.i,t.l,t.F],{layout:[0,"layout"]},null),t._7(3,16384,null,0,T.e,[t.l,T.c,T.b,t.h],{draggable:[0,"draggable"],dragData:[1,"dragData"]},null),(n()(),t._28(-1,null,["\n  "])),(n()(),t._8(5,0,null,null,2,"mw-selection-tag",[],[[2,"mw-selection-tag",null],[2,"mw-selection-tag--visible",null]],null,null,W,U)),t._7(6,114688,null,0,K,[t.l,t.h],{icon:[0,"icon"]},null),(n()(),t._28(7,0,["",""])),(n()(),t._28(-1,null,["\n  "])),(n()(),t._3(16777216,null,null,1,null,J)),t._7(10,802816,null,0,A.k,[t.R,t.O,t.t],{ngForOf:[0,"ngForOf"]},null),(n()(),t._28(-1,null,["\n"])),(n()(),t._28(-1,null,["\n"]))],function(n,l){var e=l.component;n(l,2,0,e.fxLayout),n(l,3,0,e.dragEnabled,e.model.id),n(l,6,0,e.model.icon),n(l,10,0,e.model.cells)},function(n,l){var e=l.component;n(l,1,0,e.style),n(l,5,0,t._20(l,6).selectionTagClass,t._20(l,6).visible),n(l,7,0,e.model.name)})}var q=t._4("mw-editor-grid",D,function(n){return t._30(0,[(n()(),t._8(0,0,null,null,1,"mw-editor-grid",[],[[2,"mw-editor-grid",null],[4,"backgroundColor",null]],null,null,$,Z)),t._7(1,4308992,null,0,D,[y.a,t.h],null,null)],function(n,l){n(l,1,0)},function(n,l){n(l,0,0,t._20(l,1).editorGridClass,t._20(l,1).backgroundColor)})},{model:"model"},{afterViewInitEmitter:"afterViewInitEmitter"},[]),Q=t._6({encapsulation:2,styles:[[".mw-editor-text{position:relative;display:block;color:#fff;cursor:pointer}"]],data:{}});function nn(n){return t._30(0,[(n()(),t._8(0,0,null,null,6,"div",[["class","mw-editor-text-drag-handle"],["dnd-draggable",""]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onclick()&&t),t},null,null)),t._7(1,16384,null,0,T.e,[t.l,T.c,T.b,t.h],{dragData:[0,"dragData"]},null),(n()(),t._28(-1,null,["\n  "])),(n()(),t._8(3,0,null,null,2,"mw-selection-tag",[],[[2,"mw-selection-tag",null],[2,"mw-selection-tag--visible",null]],null,null,W,U)),t._7(4,114688,null,0,K,[t.l,t.h],{selected:[0,"selected"],icon:[1,"icon"]},null),(n()(),t._28(5,0,["",""])),(n()(),t._28(6,null,["\n  ","\n"])),(n()(),t._28(-1,null,["\n"]))],function(n,l){var e=l.component;n(l,1,0,e.model.id),n(l,4,0,e.selected,e.model.icon)},function(n,l){var e=l.component;n(l,3,0,t._20(l,4).selectionTagClass,t._20(l,4).visible),n(l,5,0,e.model.name),n(l,6,0,e.model.value)})}var ln=t._4("mw-text",b,function(n){return t._30(0,[(n()(),t._8(0,0,null,null,1,"mw-text",[],[[2,"mw-editor-text",null]],null,null,nn,Q)),t._7(1,114688,null,0,b,[t.h],null,null)],function(n,l){n(l,1,0)},function(n,l){n(l,0,0,t._20(l,1).editorTextClass)})},{model:"model"},{},[]),en=e("trMa"),tn=e("e0rv"),on=e("l6RC"),an=e("8Xfy"),un=e("V8+5"),rn=e("aayJ"),cn=e("dYU3"),sn=function(){function n(n){this.messageService=n,this.toolPanelClass=!0,this.tools=[new p,new r]}return n.prototype.ngOnInit=function(){},n.prototype.handleDropSuccess=function(n){console.log("deleted",n),this.messageService.publish(k,{command:v.a.delete,data:{componentId:n.dragData}})},n}(),dn=t._6({encapsulation:2,styles:[[".mw-tool-panel .mat-icon{vertical-align:middle;margin-right:5px;color:#a9bbbb}.mw-tool-panel .mat-tool-panel-container{height:100%}.mw-tool-panel .mat-tool-panel-trash{font-size:128px;width:128px;height:128px}.mw-tool-panel h3{border:none;font-size:10px;letter-spacing:1px;line-height:24px;text-transform:uppercase;font-weight:400;margin:0;padding:0 16px;background:rgba(0,0,0,.32);color:hsla(0,0%,100%,.87)}.mw-tool-panel .mat-list-item{color:#a9bbbb}"]],data:{}});function mn(n){return t._30(0,[(n()(),t._8(0,0,null,null,12,"mat-list-item",[["class","mat-list-item"]],null,[[null,"focus"],[null,"blur"]],function(n,l,e){var o=!0;return"focus"===l&&(o=!1!==t._20(n,1)._handleFocus()&&o),"blur"===l&&(o=!1!==t._20(n,1)._handleBlur()&&o),o},rn.d,rn.b)),t._7(1,1097728,null,2,cn.b,[t.l,[2,cn.e]],null,null),t._26(603979776,1,{_lines:1}),t._26(335544320,2,{_hasAvatar:0}),(n()(),t._28(-1,2,["\n      "])),(n()(),t._8(5,0,null,2,6,"div",[["dnd-draggable",""]],null,null,null,null,null)),t._7(6,16384,null,0,T.e,[t.l,T.c,T.b,t.h],{dragData:[0,"dragData"]},null),(n()(),t._28(-1,null,["\n        "])),(n()(),t._8(8,0,null,null,2,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,B.b,B.a)),t._7(9,638976,null,0,H.b,[t.l,H.d,[8,null]],null,null),(n()(),t._28(10,0,["",""])),(n()(),t._28(11,null,["\n        ","\n      "])),(n()(),t._28(-1,2,["\n    "]))],function(n,l){n(l,6,0,l.context.$implicit.type),n(l,9,0)},function(n,l){n(l,10,0,l.context.$implicit.icon),n(l,11,0,l.context.$implicit.name)})}function pn(n){return t._30(0,[(n()(),t._8(0,0,null,null,21,"div",[["class","mat-tool-panel-container"],["fxLayout","column"],["fxLayoutAlign","space-between stretch"]],null,null,null,null,null)),t._7(1,737280,null,0,Y.f,[Y.i,t.l,t.F],{layout:[0,"layout"]},null),t._7(2,737280,null,0,Y.e,[Y.i,t.l,t.F,[2,Y.f]],{align:[0,"align"]},null),(n()(),t._28(-1,null,["\n  "])),(n()(),t._8(4,0,null,null,8,"mat-list",[["class","mat-list"]],null,null,null,rn.e,rn.a)),t._7(5,49152,null,0,cn.a,[],null,null),(n()(),t._28(-1,0,["\n    "])),(n()(),t._8(7,0,null,0,1,"h3",[],null,null,null,null,null)),(n()(),t._28(-1,null,["\n      Tool Panel\n    "])),(n()(),t._28(-1,0,["\n    "])),(n()(),t._3(16777216,null,0,1,null,mn)),t._7(11,802816,null,0,A.k,[t.R,t.O,t.t],{ngForOf:[0,"ngForOf"]},null),(n()(),t._28(-1,0,["\n  "])),(n()(),t._28(-1,null,["\n  "])),(n()(),t._8(14,0,null,null,6,"div",[["dnd-droppable",""]],null,[[null,"onDropSuccess"]],function(n,l,e){var t=!0;return"onDropSuccess"===l&&(t=!1!==n.component.handleDropSuccess(e)&&t),t},null,null)),t._7(15,16384,null,0,T.f,[t.l,T.c,T.b,t.h],null,{onDropSuccess:"onDropSuccess"}),(n()(),t._28(-1,null,["\n    "])),(n()(),t._8(17,0,null,null,2,"mat-icon",[["class","mat-tool-panel-trash mat-icon"],["role","img"]],null,null,null,B.b,B.a)),t._7(18,638976,null,0,H.b,[t.l,H.d,[8,null]],null,null),(n()(),t._28(-1,0,["delete"])),(n()(),t._28(-1,null,["\n  "])),(n()(),t._28(-1,null,["\n"])),(n()(),t._28(-1,null,["\n"]))],function(n,l){var e=l.component;n(l,1,0,"column"),n(l,2,0,"space-between stretch"),n(l,11,0,e.tools),n(l,18,0)},null)}var hn=e("kY/3"),_n=e("UHIZ"),fn=e("AP4T"),gn=e("5jKg");fn.a.prototype.switchMap=function(n,l){return Object(gn.a)(n,l)(this)},e("HECM");var bn=e("3iOE"),wn=e("1j/l"),yn=e("Oryw"),vn=e("ZO8H");fn.a.combineLatest=function(){for(var n=[],l=0;l<arguments.length;l++)n[l-0]=arguments[l];var e=null,t=null;return Object(bn.a)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&Object(wn.a)(n[0])&&(n=n[0]),new yn.a(n,t).lift(new vn.a(e))};var xn=e("0J28"),kn=e("EiAn"),Cn=function(){function n(n,l,e,t,o,i,a){this.factoryResolver=n,this.messageService=l,this.saveService=e,this.route=t,this.layoutService=o,this.layoutListService=i,this.changeDetector=a,this.workAreaClass=!0,this.subscriptions=[],this.allowedDropType=D.name}return n.prototype.ngOnInit=function(){var n=this;this.subscriptions.push(this.route.data.subscribe(function(l){n.factoryComponent&&n.factoryComponent.destroyComponent();var e=(new g).toEditorModel(l.layout);n.layoutModel=Object.assign(e,{}),n.changeDetector.markForCheck()})),this.subscriptions.push(this.messageService.channel(k).subscribe(function(l){return n.handleToolPanelMessage(l)})),this.subscriptions.push(this.messageService.channel(x).subscribe(function(l){l.command!==v.a.drop&&l.command!==v.a.delete||n.save(),console.log("cell msg",l)})),this.subscriptions.push(this.messageService.channel(kn.a).subscribe(function(l){return n.deleteLayout(l)}))},n.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(n){n.unsubscribe()})},n.prototype.handleDrop=function(n){if(console.log("drop",n),n.dragData===D.name){var l=new p;l.cells=[new s(u.a.create(),50),new s(u.a.create(),50)],this.layoutModel.component=l,this.changeDetector.markForCheck(),this.save()}},n.prototype.handleAllowDrop=function(n){return function(l){return l!==n&&console.log("drop not allowed",l),l===n}},n.prototype.save=function(){console.log("saving",this.layoutModel);var n=!1;this.layoutModel.isNew&&(n=!0,this.layoutModel.name=this.layoutListService.getUniqueLayoutName(C.a.newLayoutBaseName)),this.layoutModel.isNew=!1,this.saveService.save(this.layoutModel.toViewerModel()),this.messageService.publish(hn.a,{command:v.a.edit,data:n?{id:this.layoutModel.id,name:this.layoutModel.name}:void 0})},n.prototype.deleteLayout=function(n){n.command===v.a.delete&&(this.saveService.delete(this.layoutModel.id),this.messageService.publish(hn.a,{command:v.a.delete}))},n.prototype.handleToolPanelMessage=function(n){console.log("toolpanel msg",n,this.layoutModel.component),n.command===v.a.delete&&this.layoutModel.component&&this.layoutModel.component.id===n.data.componentId&&(this.layoutModel.component=void 0,this.factoryComponent&&this.factoryComponent.destroyComponent(),this.changeDetector.markForCheck(),console.log("delete layout component",this.layoutModel.component,n.data.componentId),this.save())},n}(),Mn=e("cOVX"),En=e("WHuQ"),Dn=t._6({encapsulation:2,styles:[[".mw-work-area{display:block;border:1px solid #5c5c5c;margin:20px;height:calc(100% - 42px)}.mw-work-area .mw-work-area-target{display:block;height:100%;width:100%;background-color:#1e1e1e;color:#e6e6e6}.mw-work-area .mw-work-area-message-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;height:calc(100% - 20px)}.mw-work-area .mw-work-area-message-container .mw-work-area-message{text-align:center;color:#898467}"]],data:{}});function Sn(n){return t._30(0,[(n()(),t._8(0,0,null,null,5,"div",[["class","mw-work-area-message-container"],["dnd-droppable",""]],null,[[null,"onDropSuccess"]],function(n,l,e){var t=!0;return"onDropSuccess"===l&&(t=!1!==n.component.handleDrop(e)&&t),t},null,null)),t._7(1,16384,null,0,T.f,[t.l,T.c,T.b,t.h],{allowdrop:[0,"allowdrop"]},{onDropSuccess:"onDropSuccess"}),(n()(),t._28(-1,null,["\n    "])),(n()(),t._8(3,0,null,null,1,"div",[["class","mw-work-area-message"]],null,null,null,null,null)),(n()(),t._28(-1,null,["Drag a Grid here!"])),(n()(),t._28(-1,null,["\n  "]))],function(n,l){var e=l.component;n(l,1,0,e.handleAllowDrop(e.allowedDropType))},null)}function On(n){return t._30(0,[(n()(),t._8(0,16777216,null,null,1,"mw-factory",[],null,null,null,R.b,R.a)),t._7(1,573440,[[3,4]],0,M.a,[V.a,t.R,t.j],{model:[0,"model"]},null),(n()(),t._3(0,null,null,0))],function(n,l){n(l,1,0,l.component.layoutModel.component)},null)}function Fn(n){return t._30(2,[t._26(402653184,1,{viewContainerRef:0}),t._26(671088640,2,{cellComponents:1}),t._26(671088640,3,{factoryComponent:0}),(n()(),t._8(3,0,null,null,8,"div",[["class","mw-work-area-target"]],null,null,null,null,null)),(n()(),t._28(-1,null,["\n  "])),(n()(),t._3(16777216,null,null,1,null,Sn)),t._7(6,16384,null,0,A.l,[t.R,t.O],{ngIf:[0,"ngIf"]},null),(n()(),t._28(-1,null,["\n  "])),(n()(),t._28(-1,null,["\n  "])),(n()(),t._3(16777216,null,null,1,null,On)),t._7(10,16384,null,0,A.l,[t.R,t.O],{ngIf:[0,"ngIf"]},null),(n()(),t._28(-1,null,["\n"])),(n()(),t._28(-1,null,["\n"]))],function(n,l){var e=l.component;n(l,6,0,!e.layoutModel||!e.layoutModel.component),n(l,10,0,e.layoutModel.component)},null)}var In=function(){function n(){this.layoutEditorClass=!0}return n.prototype.ngOnInit=function(){},n}(),jn=t._6({encapsulation:2,styles:[[".mw-layout-editor mat-sidenav-container{margin:0;width:100%;height:100%;background:#1e1e1e}.mw-layout-editor mat-sidenav{width:240px;background:#3c3f41}"]],data:{}});function Tn(n){return t._30(0,[(n()(),t._8(0,0,null,null,16,"mat-sidenav-container",[["class","mat-drawer-container mat-sidenav-container"]],null,null,null,en.d,en.b)),t._7(1,1490944,null,2,tn.f,[[2,on.c],t.l,t.A,t.h,tn.a],null,null),t._26(603979776,1,{_drawers:1}),t._26(335544320,2,{_content:0}),(n()(),t._28(-1,2,["\n  "])),(n()(),t._8(5,0,null,0,3,"mat-sidenav",[["class","mat-drawer mat-sidenav"],["mode","side"],["opened","true"],["position","end"],["tabIndex","-1"]],[[40,"@transform",0],[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null],[2,"mat-sidenav-fixed",null],[4,"top","px"],[4,"bottom","px"]],[["component","@transform.start"],["component","@transform.done"],[null,"keydown"]],function(n,l,e){var o=!0;return"component:@transform.start"===l&&(o=!1!==t._20(n,6)._onAnimationStart(e)&&o),"component:@transform.done"===l&&(o=!1!==t._20(n,6)._onAnimationEnd(e)&&o),"keydown"===l&&(o=!1!==t._20(n,6).handleKeydown(e)&&o),o},en.f,en.a)),t._7(6,3325952,[[1,4]],0,tn.e,[t.l,an.g,an.f,un.a,[2,A.d]],{position:[0,"position"],mode:[1,"mode"],opened:[2,"opened"]},null),(n()(),t._8(7,0,null,0,1,"mw-tool-panel",[],[[2,"mw-tool-panel",null]],null,null,pn,dn)),t._7(8,114688,null,0,sn,[N.a],null,null),(n()(),t._28(-1,2,["\n  "])),(n()(),t._8(10,0,null,1,5,"mat-sidenav-content",[["class","mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,en.e,en.c)),t._7(11,1097728,[[2,4]],0,tn.g,[t.h,tn.f],null,null),(n()(),t._28(-1,0,["\n    "])),(n()(),t._8(13,0,null,0,1,"mw-work-area",[],[[2,"mw-work-area",null]],null,null,Fn,Dn)),t._7(14,245760,null,0,Cn,[t.j,N.a,Mn.a,_n.a,xn.a,En.a,t.h],null,null),(n()(),t._28(-1,0,["\n  "])),(n()(),t._28(-1,2,["\n"])),(n()(),t._28(-1,null,["\n"]))],function(n,l){n(l,1,0),n(l,6,0,"end","side","true"),n(l,8,0),n(l,14,0)},function(n,l){n(l,5,0,t._20(l,6)._animationState,null,"end"===t._20(l,6).position,"over"===t._20(l,6).mode,"push"===t._20(l,6).mode,"side"===t._20(l,6).mode,t._20(l,6).fixedInViewport,t._20(l,6).fixedInViewport?t._20(l,6).fixedTopGap:null,t._20(l,6).fixedInViewport?t._20(l,6).fixedBottomGap:null),n(l,7,0,t._20(l,8).toolPanelClass),n(l,10,0,t._20(l,11)._margins.left,t._20(l,11)._margins.right),n(l,13,0,t._20(l,14).workAreaClass)})}var An=t._4("mw-layout-editor",In,function(n){return t._30(0,[(n()(),t._8(0,0,null,null,1,"mw-layout-editor",[],[[2,"mw-layout-editor",null]],null,null,Tn,jn)),t._7(1,114688,null,0,In,[],null,null)],function(n,l){n(l,1,0)},function(n,l){n(l,0,0,t._20(l,1).layoutEditorClass)})},{},{},[]),Rn=e("9iV4"),Vn=e("Yq5T"),Nn=e("RyBE"),Ln=e("4jwp"),Pn=e("OFGE"),Gn=e("ZgUn"),Xn=e("rN87"),Yn=e("S53G"),Bn=e("j5BN"),Hn=e("CZgk"),Kn=e("ki1d"),Un=e("YXpL"),zn=e("ghl+"),Wn=e("T2Au"),Zn=function(){},Jn=function(){},$n=function(){},qn=function(){},Qn=function(){},nl=function(){},ll=function(){};e.d(l,"LayoutEditorModuleNgFactory",function(){return el});var el=t._5(S,[],function(n){return t._16([t._17(512,t.j,t._1,[[8,[O.a,F.a,I.a,j.a,q,X,ln,An]],[3,t.j],t.y]),t._17(4608,A.n,A.m,[t.v,[2,A.s]]),t._17(5120,Y.a,Y.c,[]),t._17(4608,Y.b,Y.b,[Y.a]),t._17(4608,Y.h,Y.h,[t.A,A.d]),t._17(5120,Y.i,Y.g,[[3,Y.i],Y.b,Y.h]),t._17(5120,Y.l,Y.k,[[3,Y.l],Y.h,Y.b]),t._17(4608,Rn.i,Rn.n,[A.d,t.D,Rn.l]),t._17(4608,Rn.o,Rn.o,[Rn.i,Rn.m]),t._17(5120,Rn.a,function(n){return[n]},[Rn.o]),t._17(4608,Rn.k,Rn.k,[]),t._17(6144,Rn.j,null,[Rn.k]),t._17(4608,Rn.h,Rn.h,[Rn.j]),t._17(6144,Rn.b,null,[Rn.h]),t._17(5120,Rn.g,Rn.p,[Rn.b,[2,Rn.a]]),t._17(4608,Rn.c,Rn.c,[Rn.g]),t._17(4608,Vn.a,Vn.a,[]),t._17(4608,xn.a,xn.a,[Rn.c,Vn.a]),t._17(4608,V.a,V.a,[]),t._17(4608,y.a,y.a,[Nn.c]),t._17(6144,on.b,null,[A.d]),t._17(4608,on.c,on.c,[[2,on.b]]),t._17(4608,un.a,un.a,[]),t._17(4608,an.h,an.h,[un.a]),t._17(4608,an.g,an.g,[an.h,t.A,A.d]),t._17(136192,an.c,an.b,[[3,an.c],A.d]),t._17(5120,an.k,an.j,[[3,an.k],[2,an.i],A.d]),t._17(5120,an.f,an.d,[[3,an.f],t.A,un.a]),t._17(5120,Ln.d,Ln.b,[[3,Ln.d],t.A,un.a]),t._17(5120,Ln.g,Ln.f,[[3,Ln.g],un.a,t.A]),t._17(4608,Pn.e,Pn.e,[Ln.d,Ln.g,t.A]),t._17(5120,Pn.b,Pn.f,[[3,Pn.b],A.d]),t._17(4608,Pn.j,Pn.j,[Ln.g,A.d]),t._17(5120,Pn.c,Pn.i,[[3,Pn.c],A.d]),t._17(4608,Pn.a,Pn.a,[Pn.e,Pn.b,t.j,Pn.j,Pn.c,t.g,t.r,t.A,A.d]),t._17(5120,Pn.g,Pn.h,[Pn.a]),t._17(5120,H.d,H.a,[[3,H.d],[2,Rn.c],Nn.c,[2,A.d]]),t._17(4608,T.b,T.b,[]),t._17(5120,T.c,T.g,[]),t._17(5120,T.d,T.h,[T.b]),t._17(512,A.c,A.c,[]),t._17(512,Y.j,Y.j,[]),t._17(512,Y.d,Y.d,[]),t._17(512,Gn.a,Gn.a,[]),t._17(512,Rn.e,Rn.e,[]),t._17(512,Rn.d,Rn.d,[]),t._17(512,Xn.a,Xn.a,[]),t._17(512,Yn.a,Yn.a,[]),t._17(512,on.a,on.a,[]),t._17(256,Bn.b,!0,[]),t._17(512,Bn.h,Bn.h,[[2,Bn.b]]),t._17(512,un.b,un.b,[]),t._17(512,an.a,an.a,[]),t._17(512,Hn.b,Hn.b,[]),t._17(512,Ln.c,Ln.c,[]),t._17(512,Pn.d,Pn.d,[]),t._17(512,tn.h,tn.h,[]),t._17(512,Bn.i,Bn.i,[]),t._17(512,Bn.r,Bn.r,[]),t._17(512,Bn.p,Bn.p,[]),t._17(512,Kn.b,Kn.b,[]),t._17(512,cn.c,cn.c,[]),t._17(512,H.c,H.c,[]),t._17(512,Un.b,Un.b,[]),t._17(512,zn.d,zn.d,[]),t._17(512,T.a,T.a,[]),t._17(512,Wn.a,Wn.a,[]),t._17(512,Zn,Zn,[]),t._17(512,Jn,Jn,[]),t._17(512,$n,$n,[]),t._17(512,qn,qn,[]),t._17(512,Qn,Qn,[]),t._17(512,nl,nl,[]),t._17(512,_n.n,_n.n,[[2,_n.s],[2,_n.k]]),t._17(512,ll,ll,[]),t._17(512,S,S,[]),t._17(256,Rn.l,"XSRF-TOKEN",[]),t._17(256,Rn.m,"X-XSRF-TOKEN",[]),t._17(256,tn.a,!1,[]),t._17(1024,_n.i,function(){return[[{path:"",component:In},{path:"**",redirectTo:"",pathMatch:"full"}]]},[])])})}});